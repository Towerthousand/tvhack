function init(){var e="http://104.131.78.132:80/api/",t="u1";window.keyEnum={enter:13,rightArrow:39,leftArrow:37,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57},document.body.className="";var n,r=function(e,t){navigator.setResolution&&navigator.setResolution(1280,720),navigator.setWebSecurityEnabled&&navigator.setWebSecurityEnabled(!1),window.onkeydown=this.handleControlKey,window.test=this,this.accordion={index:0},this.scope=e,this.state="",this.http=t,this.carers=[];var r=n=this;this.stayAlive=setInterval(function(){r.populateCarers(),r.pingOnline()},1e3),r.populateCarers(),r.pingOnline()};r.prototype.populateCarers=function(){var n=this;this.http({method:"GET",url:e+"isCaredBy/"+t+"/"}).success(function(e,t,r,o){if(n.carers.length)for(var a=0;a<n.carers.length;a++)n.carers[a].active=e.users[a].active;else n.carers=e.users})},r.prototype.handleControlKey=function(e){var t=e.keyCode;if(console.log("bungy "+t),t==keyEnum.enter&&"accordion"==n.state){n.carers[n.accordion.index]}39==t&&(n.accordion.index=(n.carers.length+n.accordion.index+1)%n.carers.length),47==t&&(n.accordion.index=(n.carers.length+n.accordion.index-1)%n.carers.length,e.preventDefault()),40==t&&(n.state=n.state?"":"accordion",e.preventDefault()),n.scope.$apply()},r.prototype.pingOnline=function(){};var o=function(e){e.startSymbol("[["),e.endSymbol("]]")};angular.module("livesaver",[]).config(["$interpolateProvider",o]).controller("main",["$scope","$http",r]),angular.bootstrap(document.body,["livesaver"])}